:ruby
  table_dom_id = SecureRandom.hex
  show_actions ||= 0

%table.table.table-hover{:id => table_dom_id, :data => {:toggle => 'table',
  :pagination => 'true',
  :show_pagination_switch => 'false',
  :page_list => "[5, 10, 20, 50, 100, 200]",
  :page_size => current_user.num_table_rows,
  :search => 'false',
  :export_types => "['csv', 'txt', 'excel']",
  :show_export => 'false',
  :show_columns => 'false',
  :show_toggle => 'false',
  :state_save => 'true',
  :state_save_id_table => "saved_queries_id",
  :state_save_expire => "1y"}}
  %thead
    %tr
      %th.left{:data => {:visible => 'false'}} Object Key
      %th.center{:data => {:sortable => 'true'}} Name
      %th.center{:data => {:sortable => 'true'}} Description
      %th.center{:data => {:sortable => 'true'}} Shared To
      %th.center{:data => {:sortable => 'true'}} Shared From
      %th.center{:data => {:visible => 'true', :sortable => 'false'}} SQL Query
      %th.center{:data => {:visible => 'true', :sortable => 'true'}} Created Date & Time
      %th.center{:data => {:visible => 'true', :sortable => 'false'}} Created By
      %th.center{:data => {:visible => 'true', :sortable => 'false'}} Last Update Date & Time
      %th.center{:data => {:visible => 'true', :sortable => 'false'}} Last Updated By
      %th.center{:data => {:visible => 'true', :sortable => 'false'}} 

  %tbody
    - @queries.each do |s|
      %tr{:id => s.object_key}
        %td.left= s.object_key
        %td.left= s.name
        %td.left= s.description.html_safe
        %td.center
        %td.center
        %td.center
        %td.right= format_as_date_time(s.created_at)
        %td.right= s.created_by_user
        %td.right= format_as_date_time(s.updated_at)
        %td.right= s.updated_by_user
        %td.center
        - if can? :edit, s
          %td.center
            = link_to edit_saved_query_path(s), :title => "Update this query.", :remote => true do
              %i.fa.fa-fw.fa-edit.text-primary.fa-1-5x
        - if can? :destroy, s
          %td.center
            = link_to saved_query_path(s), :title => "Remove this query", :method => :delete, :data => {:confirm => "Are you sure you want to remove this query? The action can't be undone."} do
              %i.fa.fa-fw.fa-trash-o.action-icon.text-danger.fa-1-5x

= render :partial => 'shared/table_scripts', :locals => {:table_id => table_dom_id, :path_pattern => "#"}