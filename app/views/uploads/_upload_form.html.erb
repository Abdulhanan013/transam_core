<div class="row">
	<%= simple_form_for(@upload, :html => {:multipart => true, :class => 'form-horizontal' }, :wrapper => :horizontal_form, :wrapper_mappings => {:check_boxes => :horizontal_radio_and_checkboxes, :file => :horizontal_file_input, :boolean => :horizontal_boolean}) do |f| %>
		<div class="col-md-6 col-md-offset-3">
			<%= dialog_tag('File', {:icon => 'fa fa-upload', :class => "header_part"}) do %>	
				<%= f.input :file, :label => 'Spreadsheet' %>
				<%= f.association :file_content_type, :label => 'Spreadsheet content' %>
				<%= f.input :force_update, :as => :boolean %>
				<div class="col-md-12">
					<%= f.button :submit, :class=>"btn btn-primary" %>
					<%= submit_tag 'Cancel', :name => 'cancel', :class=>"btn btn-warning" %>
				</div>	
			<% end %>
		</div>
	<% end %>
</div>

<script type="text/javascript">
	
	var max_file_size_mb = <%= Rails.application.config.max_upload_file_size %>;

	$(document).ready(function() {
		// Insert a change listener to validate the file size before uplaoding.
		$('#upload_file').change(function() {
			transam.validate_file_size(this, max_file_size_mb);
		});			
	});

		
</script>
