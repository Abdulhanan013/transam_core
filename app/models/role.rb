#-------------------------------------------------------------------------------
# Role
#-------------------------------------------------------------------------------
class Role < ActiveRecord::Base

  #-----------------------------------------------------------------------------
  # Behaviors
  #-----------------------------------------------------------------------------
  scopify

  #-----------------------------------------------------------------------------
  # Associations
  #-----------------------------------------------------------------------------
  has_many :users_roles
  has_many :users, :through => :users_roles

  belongs_to :resource, :polymorphic => true

  #-----------------------------------------------------------------------------
  # Scopes
  #-----------------------------------------------------------------------------
  # True roles
  scope :roles, -> { where(privilege: false) }
  # Privilege roles
  scope :privileges, -> { where(privilege: true) }

  #-----------------------------------------------------------------------------
  # Class Methods
  #-----------------------------------------------------------------------------

  #-----------------------------------------------------------------------------
  # Instance Methods
  #-----------------------------------------------------------------------------
  def to_s
    name
  end

end
